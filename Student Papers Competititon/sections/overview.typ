= Огляд літератури

Тема автоматизованого розпізнавання номерних знаків (ALPR) є об'єктом численних досліджень, у яких застосовуються різноманітні методи та архітектури. Високий інтерес до цієї проблематики зумовлений її актуальністю для систем інтелектуального транспорту. Проте більшість наявних рішень зосереджені на специфічних регіональних особливостях (стандарти конкретних країн), що обмежує їхню пряму адаптацію без додаткової модифікації. З огляду на значний обсяг публікацій, для детального аналізу було обрано три репрезентативні праці, що демонструють різні підходи до розв'язання задачі.

== Метрики оцінювання

Для кількісного аналізу запропонованих систем використовується стандартний набір метрик, що дозволяє оцінити як точність класифікації об'єктів, так і якість їхньої локалізації. Для оцінювання точності локалізації використовується метрика _Intersection over Union_ (IoU), яка є стандартом у задачах детекції @everingham_pascal_2010. Для аналізу класифікаторів застосовуються показники _точності_ (_Precision_), _повноти_ (_Recall_), F1 та mAP (_mean Average Precision_) @bishop_pattern_2006. Для оцінки розпізнавання тексту використовується _посимвольна частота помилок_ (_Character Error Rate_), що базується на відстані Левенштейна @levenshtein_binary_1965.

Метрика IoU визначається як накладення прогнозованої рамки $B_p$ на еталонну $B_g$ та розраховується за формулою:

#let area = math.op("Area")
$ upright(I o U) = (area(B_p inter B_g))/(area(B_p union B_g)) $

Метрики для оцінки класифікаторів розраховують при певному фіксованому порозі IoU, зазвичай 0.5. При цьому порозі результати класифікують як:
- _TP_ (_True Positive_) --- об'єкт виявлено правильно;
- _FP_ (_False Positive_) --- помилкове спрацювання (об'єкт виявлено там, де він відсутній);
- _FN_ (_False Negative_) --- пропущений об'єкт.

За цими результатами розраховують _точність_ (@PrecisionEq), _повноту_ (@RecallEq), F1 (@F1Eq) та mAP. Точність --- це частка правильно виявлених об'єктів серед усіх знайдених. Повнота --- частка знайдених об'єктів серед усіх наявних у вибірці. F1-міра --- середнє гармонійне між точністю та повнотою, що є інформативним показником при дисбалансі класів. mAP --- це середнє арифметичне значень середньої точності (_Average Precision_) для всіх класів, де кожне AP обчислюється як площа під згладженою кривою залежності _точності_ від _повноти_.

$ P = (T P)/(T P + F P) $<PrecisionEq>
$ R = (T P)/(T P + F N) $<RecallEq>
$ F_1 = 2 dot (P dot R)/(P + R) $<F1Eq>

Метрика $upright(C E R)$ для оцінки OCR обчислюється як відношення суми операцій заміни ($S$), видалення ($D$) та вставки ($I$) до загальної кількості символів в еталонному рядку ($N$) за формулою:

$ upright(C E R) = (S + D + I)/N $

== Показник впевненості

У моделях детекції об'єктів, зокрема в YOLOv11, для кожної прогнозованої рамки обчислюється показник впевненості (_confidence score_) моделі в правдивість прогнозу. Цей коефіцієнт відображає ймовірність того, що в межах рамки дійсно міститься об'єкт певного класу, а також точність, з якою рамка охоплює цей об'єкт. Згідно з базовою архітектурою YOLO @redmon_you_2016, цей показник визначається за формулою:

$
  upright(C o n f i d e n c e) = P(upright(O b j e c t)) dot upright(I o U)^(t r u t h)_(p r e d)
$

Де:
- $P(upright(O b j e c t))$ --- ймовірність присутності об'єкта в межах рамки;
- $upright(I o U)^(t r u t h)_(p r e d)$ --- прогнозований показник IoU.

Цей показник є критично важливим параметром для налаштування моделі. Від встановленого порогу впевненості (_confidence threshold_) прямо пропорційно залежить точність детекції та обернено пропорційно --- її повнота. Залежно від мети прикладної задачі, дослідник обирає поріг, що є низьким (для максимізації повноти), високим (для мінімізації помилкових спрацювань) або таким, що забезпечує оптимальний баланс через максимізацію F1-міри.

== YOLOv8 та EasyOCR

У роботі @moussaoui_enhancing_2024 представлено методологію, що заснована на моделі YOLOv8 та бібліотеці EasyOCR. Автори зосередились на номерних знаках європейського зразка, оскільки вони мають схожу форму та стандартизоване розміщення ідентифікатора країни. Однак вони не ставили за задачу розпізнавати код на номерному знаку, а лише країну походження.

Алгоритм складається з таких кроків:
+ Детекція номерного знаку з використанням моделі YOLOv8, що була навчена на власній вибірці даних.
+ Обрізання номерного знаку до виявленої обмежувальної рамки.
+ Попередня обробка зображення:
  + кластеризація кольорів за методом K-means;
  + бінаризація зображення на основі отриманих кластерів;
  + застосування морфологічних операцій для підвищення чіткості тексту.
+ Використання EasyOCR для розпізнавання тексту ідентифікатора.

Автори заявляють про досягнення показника F1=99% для детекції номерних знаків, але не вказали поріг IoU, однак можна припустити стандартний поріг IoU\@0.5. Точність розпізнавання символів (_character-level accuracy_) становить 99.95%.

== R-CNN та ректифікація зображення

Дослідження @dong_cnn-based_2017 розглядає підхід з використанням R-CNN для розпізнавання номерних знаків КНР. Він розрахований на роботу у складних візуальних умовах, а для тренування було використано власну вибірку даних, що складається з фотографій різного розміру, роздільної здатності та оточення.

Алгоритм складається з таких кроків:
+ Детекція номерних знаків з використанням R-CNN.
+ Розпізнавання тексту:
  + Ректифікація зображення на основі спрогнозованих кутів з попереднього кроку;
  + Сегментація символів;
  + Посимвольна класифікація.

У цій методології ректифікація зображення можлива завдяки здатності R-CNN прогнозувати кути об'єкта, на відміну від YOLO, що лише прогнозує обмежувальну рамку. Автори розробили власну систему для OCR, оскільки доступні програмні рішення на момент публікації мали незадовільні результати в реальних умовах. Заявлена точність детекції при IoU\@0.5-0.9 становить 78.13%, а при IoU\@0.5 --- 96.68%.

Точність розпізнавання тексту становила 89.05% із використанням ректифікації та 86.78% --- без неї. Показник точності OCR зростає до 95.10%, якщо допустити одну помилку в тексті. Це дозволяє припустити, що можливо досягти кращих результатів з використанням алгоритмів виправлення помилок без змін в класифікаторі.

== YOLO з часовою надмірністю

У роботі @laroca_robust_2018 представлено методологію на основі моделей YOLOv2 і Fast-YOLO для детекції та CNN для розпізнавання тексту на бразильських номерних знаках. Для тренування моделі було створено власну вибірку UFPR-ALPR, отриману з відеореєстраторів.

Алгоритм складається з таких кроків:
+ Детекція транспортного засобу та обрізання знімка до обмежувальної рамки.
+ Детекція номерного знаку та обрізання знімка до відповідної рамки.
+ Сегментація символів та посимвольна класифікація.
+ Багатокадрове розпізнавання з корекцією помилок методом мажоритарного голосування на основі часових даних.

Для розпізнавання тексту обрано систему на основі CNN, аналогічну до описаної в роботі @dong_cnn-based_2017, але з урахуванням специфіки бразильських стандартів. Ключовим нововведенням є часова надмірність (_temporal redundancy_): істинним вважається символ, який найчастіше зустрічається у певній позиції протягом ряду кадрів.

Система OCR сама по собі досягає точності 64.89%, але досягає точності 78.33% з використанням часової надмірності. Однак автори зазначили, що є постійна проблема з розпізнаванням номерних знаків на мотоциклах.

Для детекції транспортних засобів використано YOLOv2. Показник F1 становить 99% при низькому порозі впевненості --- 12.5%. Для детекції номерних знаків обрано модель Fast-YOLO, оскільки різниця в точності порівняно з базовою моделлю склала менше 0.5%, а пріоритетом була мінімізація обчислювальних витрат. Коефіцієнт повноти склав 98%. Автори зазначили, що за весь час експерименту не було виявлено номерний знак лише одного транспортного засобу протягом усіх 30 кадрів його присутності в полі зору.
